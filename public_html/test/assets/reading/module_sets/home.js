(function(){var t={}.hasOwnProperty,e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};Maleskine.CollectionCategory=function(t){function n(){n.__super__.constructor.apply(this,arguments),this.collectionCategory.on("click",function(t){return function(e){var n;return n=$(e.currentTarget).data("category-id"),$("ul.sort-nav li").removeClass("active"),$(e.currentTarget).parent().addClass("active"),$.ajax({url:$("#collection-categories-nav").data("fetch-url"),data:{category_id:n},dataType:"script",type:"GET",beforeSend:function(e){return t.loader.show(),e.setRequestHeader("X-PJAX","true")}}).done(function(){return Maleskine.Utils.initLaddaButton($("#list-container"))}).always(function(){return t.loader.hide()})}}(this)),$(".submit-btn").css("width",$(".subscribe-guide").outerWidth()),$(window).resize(function(){return function(){return $(".submit-btn").css("width",$(".subscribe-guide").outerWidth())}}(this))}return e(n,t),n.prototype.elements={".category":"collectionCategory",".loader-tiny":"loader"},n}(Maleskine.BaseModule)}).call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e={}.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};Maleskine.Recommendation=function(e){function i(){this.settingTabs=t(this.settingTabs,this),this.resetTabNavigationWidth=t(this.resetTabNavigationWidth,this),i.__super__.constructor.apply(this,arguments),this.mainTab.pjaxTab(),this.writeButton.on("click",function(t){return function(){return t.setCookie("signin_redirect",Routes.writer_path())}}(this)),this.loginModal.on("hidden",function(t){return function(){return t.setCookie("signin_redirect",window.location.pathname)}}(this)),this.resetTabNavigationWidth(),$(window).resize(this.resetTabNavigationWidth)}return n(i,e),i.prototype.elements={"#write-button":"writeButton","#login-modal":"loginModal","ul.navigation":"mainTab","div.page-title":"titlePart","#list-container":"listPart",".loader-tiny":"tabLoader"},i.prototype.events={"click li.switch-default-tab a":"settingTabs"},i.prototype.resetTabNavigationWidth=function(){return this.titlePart.css("width",this.listPart.cssWidth())},i.prototype.settingTabs=function(){var t;return this.mainTab.hasClass("settings")?(this.tabLoader.show(),window.location="/"):(this.mainTab.addClass("settings"),this.mainTab.sortable({items:"li[data-name]:not(.disabled)",axis:"x",update:function(t){return function(){var e,n;return n=t.mainTab.data("user-slug"),e=t.mainTab.find("li[data-name]").map(function(){return $(this).data("name")}),$.ajax(Routes.user_path(n),{data:{user:{homepage_tabs:e.get().join()}},type:"PUT"})}}(this)}).disableSelection(),t=this.mainTab.find("li.switch-default-tab a"),t.tooltip("destroy"),t.attr("title",I18n.t("kalamu.ok")),t.tooltip())},i}(Maleskine.BaseModule)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};Maleskine.TrendingNotes=function(t){function n(){n.__super__.constructor.apply(this,arguments),$("#trending-categories a[data-dimension]").on("click",function(t){return function(e){return $("#trending-categories li").removeClass("active"),$(e.currentTarget).parent().addClass("active"),$.ajax({url:"/trending/"+$(e.currentTarget).data("dimension"),dataType:"script",type:"GET",beforeSend:function(e){return t.loader.show(),e.setRequestHeader("X-PJAX","true")}}).done(function(){return Maleskine.Utils.initLaddaButton($("#list-container"))}).always(function(){return t.loader.hide()})}}(this))}return e(n,t),n.prototype.elements={".loader-tiny":"loader"},n}(Maleskine.BaseModule)}.call(this);